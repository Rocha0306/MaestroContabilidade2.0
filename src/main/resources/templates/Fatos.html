<!DOCTYPE html>
<html lang="en">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="../static/Fatos.css">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

    <header>
        <!-- navbar -->
        <nav class="navbar navbar-expand-lg fixed-top" style="background-color: #fff;">
            <div class="container-fluid">
                <img src="../assets/contabilidade.png" alt="" style="width: 50px; margin-left: 20px;">
                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
                    aria-labelledby="offcanvasNavbarLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Contabilidade</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="HomePage.html">Home</a>
                            </li>
                            <li class="nav-item" onclick="definirVisibilidadeLinks()">
                                <a class="nav-link active" href="Fatos.html">Fatos</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="Diario.html">Diario</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="Razonete.html">Razonete</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="Balancete.html">Balancete</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="Codigos.html">IA</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="ARE.html">Apuração do resultado</a>
                            </li>

                        </ul>
                    </div>
                </div>
                <a class="login-button" th:text="${NivelDeAcesso}">Portfólio</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>
        <!-- fim da navbar -->
    </header>
    
    <form id="MetodoPostFatos" action="/Fato" method="post">
        <div class="mb-3">

            <!-- Codigo do evento -->
            <label for="CodigoDoFato" class="form-label">Codigo do Evento</label>
            <input type="text" class="form-control" id="CodigoDoFato" name="CodFato">
        </div>
        <div class="mb-3">

            <!-- Valor -->
            <label for="Valor" class="form-label">Valor</label>
            <input type="number" class="form-control" id="Valor" name="FatoValor">


            <!-- Detalhes do Fato -->
            <label for="DetalhesFato" class="form-label">Detalhes do Fato</label>
            <input type="text" class="form-control" id="DetalhesFato" name="DetalhesFato" pattern="[A-Za-z ]+">


        </div>
        <ul class="list-group">
        </ul>
        <div class="mb-3 form-check">

            <!-- Data do Fato -->
            <label for="Data" class="form-label" id="CampoData">Data</label>
            <input type="date" id="Data" name="DataFato" value="2024-03-29" readonly="readonly" required="required">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <!-- Deposito no Banco -->
    <script>
        document.getElementById("CodigoDoFato").addEventListener("input", function () {
            var valor = this.value;
            if (valor === "009") {
                document.getElementById("Valor").value = "0";
                document.getElementById("Valor").setAttribute("readonly", true);
            } else {
                this.removeAttribute("readonly");
            }
        });
    </script>
    <script>
        document.getElementById("CodigoDoFato").addEventListener("input", function () {
            var valor = this.value;
            if (valor === "010") {
                document.getElementById("Valor").value = "0";
                document.getElementById("Valor").setAttribute("readonly", true);
            } else {
                this.removeAttribute("readonly");
            }
        });
    </script>
    <!-- Pagamento Financiamento -->
    <script>
        document.getElementById("CodigoDoFato").addEventListener("input", function () {
            var valor = this.value;
            if (valor === "011") {
                document.getElementById("Valor").value = "0";
                document.getElementById("Valor").setAttribute("readonly", true);
            } else {
                this.removeAttribute("readonly");
            }
        });
    </script>
    <!-- Pagamento Fornecedor -->
    <script>
        document.getElementById("MetodoPostFatos").addEventListener("submit", function (event) {
            // Obter o campo de entrada
            var campoNumero = document.getElementById("Valor");

            // Obter o valor do campo
            var valor = campoNumero.value;

            // Remover todos os pontos do valor
            var valorSemPontos = valor.replace(/\./g, "");

            // Atualizar o valor do campo com o valor sem pontos
            campoNumero.value = valorSemPontos;
        });
    </script>
</body>

</html>